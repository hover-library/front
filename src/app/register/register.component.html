<div id="cont-reg">
  <!-- Video de fondo futurista -->
  <div class="futuristic-bg">
    <video autoplay muted loop playsinline aria-hidden="true">
      <source src="../../assets/sea.mp4" type="video/mp4">
      <!-- Fallback para navegadores que no soportan video -->
      <div class="particle-fallback"></div>
    </video>
    <div class="video-overlay"></div>
  </div>

  <div class="reg-container">
    <h2 tabindex="0">Register</h2>

    <form (ngSubmit)="onRegister()" aria-label="Formulario de registro" #registerForm="ngForm">
      <div class="cont-input">
        <label for="name" aria-label="Nombre">Name:</label>
        <input
          type="text"
          id="name"
          [(ngModel)]="user.name"
          name="name"
          required
          autocomplete="name"
          aria-required="true"
          aria-describedby="name-error"
          #nameInput="ngModel"
          [attr.aria-invalid]="nameInput.invalid && nameInput.touched"
        />
      </div>
      <p class="error"
         id="name-error"
         *ngIf="nameInput.touched && nameInput.invalid"
         aria-live="assertive">
        *This field is required
      </p>

      <div class="cont-input">
        <label for="email" aria-label="Correo electrónico">Email:</label>
        <input
          type="email"
          id="email"
          [(ngModel)]="user.email"
          name="email"
          required
          autocomplete="email"
          aria-required="true"
          aria-describedby="email-error"
          #emailInput="ngModel"
          [attr.aria-invalid]="emailInput.invalid && emailInput.touched"
        />
      </div>
      <p class="error"
         id="email-error"
         *ngIf="emailInput.touched && emailInput.invalid"
         aria-live="assertive">
        *This field is required and must be a valid email
      </p>

      <div class="cont-input">
        <label for="password" aria-label="Contraseña">Password:</label>
        <input
          type="password"
          id="password"
          [(ngModel)]="user.password"
          name="password"
          required
          autocomplete="new-password"
          aria-required="true"
          aria-describedby="password-error"
          #passwordInput="ngModel"
          [attr.aria-invalid]="passwordInput.invalid && passwordInput.touched"
        />
      </div>
      <p class="error"
         id="password-error"
         *ngIf="passwordInput.touched && passwordInput.invalid"
         aria-live="assertive">
        *This field is required
      </p>

      <p class="error"
         *ngIf="registrationError"
         aria-live="assertive">
        *Registration error: {{ registrationError }}
      </p>

      <div class="cont-btn">
        <button type="submit"
                [disabled]="registerForm.invalid"
                aria-label="Enviar formulario de registro"
                [attr.aria-disabled]="registerForm.invalid">
          Register
        </button>
      </div>
    </form>

    <div class="login-link-cont">
      <p>Have an account?</p>
      <a routerLink="/login" aria-label="Iniciar sesión">Login</a>
    </div>
  </div>
</div>
